# Server Config
PORT=3000
PUBLIC_API_URL=http://localhost:3000

# Debugging
DEBUG=false          # Generic debug flag
HEADLESS=true        # Set to false to see the browser
LOG_LEVEL=info       # active log level: debug, info, warn, error

# ============================================================================
# Proxy Configuration
# ============================================================================

# PROXY_LIST - Multi-format support:
# - Remote JSON: https://example.com/proxies.json
# - Remote TXT: https://raw.githubusercontent.com/proxifly/free-proxy-list/refs/heads/main/proxies/all/data.txt
# - Remote CSV: https://example.com/proxies.csv
# - Local file: ./data/my-proxies.json (or .txt, .csv)
# - Inline list: http://1.2.3.4:8080,socks5://5.6.7.8:1080
# - With auth: http://user:pass@1.2.3.4:8080
# 
# NOTE: Remote URLs are automatically re-fetched every PROXY_VALIDATION_INTERVAL
# This allows you to point to auto-updating proxy lists that refresh periodically
PROXY_LIST=https://raw.githubusercontent.com/proxifly/free-proxy-list/refs/heads/main/proxies/all/data.txt

# Rotating Proxy Providers (JSON config)
# Webshare (https://www.webshare.io/)
# WEBSHARE_CONFIG={"apiKey":"your-api-key","mode":"list","protocol":"http","autoRefresh":true}

# Thordata/SmartProxy (https://thordata.io/ or https://smartproxy.com/)
# THORDATA_CONFIG={"username":"your-username","password":"your-password","endpoint":"gate.smartproxy.com:7000","protocol":"http"}

# Proxy Pool Configuration
PROXY_POOL_MAX_SIZE=10000           # Maximum proxies to keep in memory
PROXY_MIN_POOL_SIZE=10              # Minimum Naver-ready proxies to maintain
PROXY_VALIDATION_INTERVAL=1800      # How often to re-fetch sources & re-validate proxies (seconds, default: 30min)
PROXY_ROTATION_STRATEGY=LATENCY_BASED  # ROUND_ROBIN, LATENCY_BASED, WEIGHTED, RANDOM, STICKY_SESSION

# Telegram Bot (for CAPTCHA solving)
CHAT_ID=chat_id_telegram
BOT_TOKEN=bot_token_telegram
GEMINI_API_KEY=gemini-api-key

# Worker Config
# Proxy Configuration
# - 'true': Enable proxies for all browsers
# - 'false' or '0': Disable proxies completely
# - Positive number (e.g., '1'): EXACTLY N browsers use proxies
# - Negative number (e.g., '-1'): ALL EXCEPT N browsers use proxies (e.g., -1 = all but 1 use proxy)
USE_PROXY=true

# Browser Pool Configuration (Dynamic Scaling)
# The pool starts with MIN browsers/tabs and scales up to MAX based on queue demand
MIN_BROWSERS=1          # Initial browsers (default: 1)
MAX_BROWSERS=3          # Maximum browsers (default: 3)
MIN_TABS=1              # Initial tabs per browser (default: 1)
TABS_PER_BROWSER=2      # Maximum tabs per browser (default: 2)

# Cache Configuration
# TTL in minutes (-1 = infinite, useful for development)
CACHE_TTL=60

# Redis Configuration (For Persistent Queue)
USE_REDIS=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_PREFIX=naver_scraper: